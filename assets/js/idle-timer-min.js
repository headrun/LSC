!function(c){c.idleTimer=function(e,n){var i;"object"==typeof e?(i=e,e=null):"number"==typeof e&&(i={timeout:e},e=null),n=n||document,i=c.extend({idle:!1,timeout:3e4,events:"mousemove keydown wheel DOMMouseScroll mousewheel mousedown touchstart touchmove MSPointerDown MSPointerMove"},i);var t,r,l,a=c(n),d=a.data("idleTimerObj")||{},u=function(e){var i=c.data(n,"idleTimerObj")||{};i.idle=!i.idle,i.olddate=+new Date;var t=c.Event((i.idle?"idle":"active")+".idleTimer");c(n).trigger(t,[n,c.extend({},i),e])},o=function(e){var i=c.data(n,"idleTimerObj")||{};if(("storage"!==e.type||e.originalEvent.key===i.timerSyncId)&&null==i.remaining){if("mousemove"===e.type){if(e.pageX===i.pageX&&e.pageY===i.pageY)return;if(void 0===e.pageX&&void 0===e.pageY)return;if(+new Date-i.olddate<200)return}clearTimeout(i.tId),i.idle&&u(e),i.lastActive=+new Date,i.pageX=e.pageX,i.pageY=e.pageY,"storage"!==e.type&&i.timerSyncId&&"undefined"!=typeof localStorage&&localStorage.setItem(i.timerSyncId,i.lastActive),i.tId=setTimeout(u,i.timeout)}},m=function(){var e=c.data(n,"idleTimerObj")||{};e.idle=e.idleBackup,e.olddate=+new Date,e.lastActive=e.olddate,e.remaining=null,clearTimeout(e.tId),e.idle||(e.tId=setTimeout(u,e.timeout))};if(null===e&&void 0!==d.idle)return m(),a;if(null===e);else{if(null!==e&&void 0===d.idle)return!1;if("destroy"===e)return l=c.data(n,"idleTimerObj")||{},clearTimeout(l.tId),a.removeData("idleTimerObj"),a.off("._idleTimer"),a;if("pause"===e)return null==(r=c.data(n,"idleTimerObj")||{}).remaining&&(r.remaining=r.timeout-(+new Date-r.olddate),clearTimeout(r.tId)),a;if("resume"===e)return null!=(t=c.data(n,"idleTimerObj")||{}).remaining&&(t.idle||(t.tId=setTimeout(u,t.remaining)),t.remaining=null),a;if("reset"===e)return m(),a;if("getRemainingTime"===e)return function(){var e=c.data(n,"idleTimerObj")||{};if(e.idle)return 0;if(null!=e.remaining)return e.remaining;var i=e.timeout-(+new Date-e.lastActive);return i<0&&(i=0),i}();if("getElapsedTime"===e)return+new Date-d.olddate;if("getLastActiveTime"===e)return d.lastActive;if("isIdle"===e)return d.idle}return a.on(c.trim((i.events+" ").split(" ").join("._idleTimer ")),function(e){o(e)}),i.timerSyncId&&c(window).bind("storage",o),(d=c.extend({},{olddate:+new Date,lastActive:+new Date,idle:i.idle,idleBackup:i.idle,timeout:i.timeout,remaining:null,timerSyncId:i.timerSyncId,tId:null,pageX:null,pageY:null})).idle||(d.tId=setTimeout(u,d.timeout)),c.data(n,"idleTimerObj",d),a},c.fn.idleTimer=function(e){return this[0]?c.idleTimer(e,this[0]):this}}(jQuery);